<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${course.title}">Курс</title>
</head>
<body>

<h1 th:text="${course.title}">Название курса</h1>

<p th:text="${course.description}">Описание</p>

<div th:if="${enrolled}">
    <h3>
        Прогресс:
        <span th:text="${completed}"></span> /
        <span th:text="${total}"></span>
    </h3>
</div>

<h2>Секции</h2>

<div th:if="${enrolled}">
    <p style="color:green;">Вы уже записаны на этот курс ✔</p>
</div>

<div th:if="${!enrolled}">
    <form th:action="@{/courses/{id}/enroll(id=${course.id})}" method="post">
        <button type="submit">Записаться на курс</button>
    </form>
</div>

<ul>
    <li th:each="section : ${sections}">
        <a th:href="@{/courses/sections/{id}(id=${section.id})}"
           th:text="${section.content}">
        </a>

        <!-- Галочка, если пройдено -->
        <span th:if="${completedSections[section.id]}">
        ✓ Пройдено
        </span>

    </li>
</ul>

<br/>
<a th:href="@{/courses}">← Назад к курсам</a>

</body>
</html>
